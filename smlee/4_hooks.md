# 4. Hooks

# Hooks λ€?

- ν•¨μν• μ»΄ν¬λ„νΈμ—μ„ μƒνƒλ¥Ό κ΄€λ¦¬ν•  μ μλ” μλ‹¨
- μ»΄ν¬λ„νΈμ μƒλ…μ£ΌκΈ°μ— λ§μ¶° νΉμ • μ‘μ—…μ„ μν–‰ν•  μ μκ² ν•΄μ¤

## useState

- νΈμ¶ μ‹, λ³€μμ™€ setter ν•¨μλ¥Ό λ°°μ—΄λ΅ λ°ν™
- κ΄€λ¦¬ν•΄μ•Όν•λ” stateμ μλ§νΌ μ—¬λ¬λ² μ‚¬μ©μ΄ κ°€λ¥
- μƒνƒ κ΄€λ¦¬ λ³€μλ” **λ°λ“μ‹ μ„Έν„°ν•¨μλ¥Ό μ΄μ©ν•΄ κ°’μ„ λ³€κ²½**
- μƒνƒκ°€ λ³€κ²½λλ©΄ μ»΄ν¬λ„νΈκ°€ λ³€κ²½ λ‚΄μ© λ°μμ„ μ„ν•΄ λ‹¤μ‹ λλ”λ§λ¨

```jsx
const [state, setState] = useState(initialState);
```

**μ„Έν„°ν•¨μ**

- μ‚¬μ© λ°©λ²•

  1. μ„Έν„° ν•¨μμ— λ³€κ²½λ  μƒνƒ κ°’ μ „λ‹¬
  2. μ„Έν„°ν•¨μ νλ¦¬λ―Έν„°μ— ν•¨μ μ „λ‹¬

  ```jsx
  setState((prevState) => {});
  ```

- **λΉ„λ™κΈ°**λ΅ λ™μ‘

  - μƒνƒκ°€ λ°”λ΅ λ³€κ²½λμ§€ μ•λ” λ¬Έμ  λ°μƒ κ°€λ¥ β‡’ μ„Έν„° ν•¨μλ¥Ό ν•¨μ μΈμλ΅ μ „λ‹¬ν•΄ μ΄μ „ μƒνƒ κ°’ μ΄μ©

  ```jsx
  const Counter = () => {
  	const [count, setCount] = useState(0);
    ...(μ¤‘λµ)...
  	setCount(prevCount => prevCount + 1);
    ...(μƒλµ)...
  }
  ```

### useEffect

- μ»΄ν¬λ„νΈκ°€ λ λ”λ§λ  λ•λ§λ‹¤ μ›ν•λ” μ‘μ—…μ΄ μ‹¤ν–‰λλ„λ΅ μ„¤μ •ν•  μ μλ” κΈ°λ¥

```jsx
useEffect(() => {
  ν•¨μ;
}, [μ΅°κ±΄]);
```

- λ‘λ²μ§Έ νλΌλ―Έν„°κ°€ μ—†λ‹¤λ©΄, μ²«λ²μ§Έ νλΌλ―Έν„°λ΅ μ „λ‹¬λ ν•¨μλ” μ»΄ν¬λ„νΈκ°€ λλ”λ§ λ  λ•λ§λ‹¤ νΈμ¶
- νΉμ • μ΅°κ±΄ μ‹¤ν–‰

  - λ‘λ²μ§Έ νλΌλ―Έν„°μ— μƒνƒλ¥Ό κ΄€λ¦¬ν•λ” λ³€μλ¥Ό λ°°μ—΄λ΅ μ „λ‹¬
  - μƒνƒ κ°’μ΄ λ³€κ²½λλ©΄ μ‹¤ν–‰ν•  ν•¨μλ¥Ό useEffectλ¥Ό μ΄μ©ν•΄ μ‹¤ν–‰ν•  μ μμ

  ```jsx
  useEffect(() => {
    console.log(`name: ${name}, email: ${email}\n`);
  }, [email]);
  ```

  - λ§μ΄νΈ λ  λ•
    - `useEffect(() => { console.log('test'); }, []);`
    - μ΅°κ±΄μ΄ [] μΌ μ‹, μ¬λλ”λ§ λμ–΄λ„ μ‹¤ν–‰λμ§€ μ•μ
  - μ–Έλ§μ΄νΈ λ  λ–„
    - `useEffect(() => { return() => console.log('test'); }, []);`
    - return( `cleanup` ) ν•¨μκ°€ μ΅΄μ¬ν•κ³  μ΅°κ±΄μ΄ [] μΌ μ‹, μ–Έλ§μ΄νΈ λ  λ• μ‹¤ν–‰

### useRef

- νΉμ • μ»΄ν¬λ„νΈλ¥Ό μ„ νƒν•΄μ•Όν•  λ• μ‚¬μ©ν•λ” Hook ν•¨μ

```jsx
const ref = useRef(initialValue);
```

- useRefμ λ‚΄μ©μ΄ λ³€κ²½λμ–΄λ„ μ»΄ν¬λ„νΈλ” λ‹¤μ‹ λλ”λ§ λμ§€ μ•μ
- refλ κ°’ λ³€κ²½ μ‹, λ³€μμ— κ°’μ΄ μ €μ¥λλ” κ²ƒμ΄ μ•„λ‹ λ³€μ.current ν”„λ΅νΌν‹°μ— ν•΄λ‹Ή κ°’ μ €μ¥ π¤”

### useMemo

- λ™μΌν• μ—°μ‚°μ λ°λ³µ μν–‰μ„ μ κ±°ν•΄ μ„±λ¥μ„ μµμ ν™”ν•λ”λ° μ‚¬μ©

```jsx
useMemo(() => {
  ν•¨μ;
}, [μ΅°κ±΄]);
```

- μ΅°κ±΄μ μ§€μ •λ κ°’μ— λ³€ν™”κ°€ μλ” κ²½μ°μ—λ§ ν•¨μ νΈμ¶ (useEffectλ‘ λΉ„μ·!?)
- κ°’μ΄ λ³€ν•μ§€ μ•μΌλ©΄ μ΄μ „μ— μ—°μ‚°ν–λ κ²°κ³Όλ¥Ό μ΄μ©ν•΄ μ¤‘λ³µ μ—°μ‚°μ„ λ°©μ§€
